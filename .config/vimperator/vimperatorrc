" ~/.vimperatorrc

" Keep ~ clean
set runtimepath=~/.config/vimperator

" ui
set gui=none,tabs
set noscrollbars
set tabnumbers
set hlsearch

set autocomplete
set wildmode=list:longest,full

" Speed up scrolling
noremap h 5h
noremap j 5j
noremap k 5k
noremap l 5l

" Don't put me into insert mode automatically
set focuscontent=true

" Toggle bookmark toolbar
nmap s :set toolbars=invbookmarks<CR>

" Tab control
nmap <A-h> :tabprev<CR>
nmap <A-l> :tabnext<CR>
nmap <A-S-h> :tabmove -1<CR>
nmap <A-S-l> :tabmove +1<CR>

" Easily show downloads
nmap <S-d> :tab downloads<CR>

" Use vim instead of gvim for now
"set editor='termite -e "vim +<line> <file>"'

" Hide the status bar when using fullscreen
au Fullscreen .* :js toggleStatusbar()

" Change some default about:configs
set! extension.checkCompatibility=false
set! browser.tabs.onTop=false
set! noscript.keys.tempAllowPage="alt z"
set! noscript.keys.revokeTemp="alt c"
set! noscript.notify=false
set! plugins.click_to_play=true
set! plugin.default.state=1
set! security.ssl.require_safe_negotiation=true
set! security.ssl.treat_unsafe_negotiation_as_broken=true

" Open current url as an argument to quvi

" Open the current URL as an argument to yt-dl
nmap <S-u> -e :launchv

" Same above but with quvi
nmap <S-q> -e :launchvq

" Style
colorscheme vimium_hints
colorscheme userchrome

" Custom per-site CSS
"colorscheme justify
"colorscheme htdp.org
"colorscheme azillionmonkeys.com
"colorscheme learnyouahaskell.com
"colorscheme realworldhaskell.org
"colorscheme haskell.org

" Functions
:js <<EOF
function toggleStatusbar() {
    var bb = document.getElementById('liberator-bottombar');
    if (!bb)
        return;
    bb.style.height = (bb.style.height == '') ? '0px' : '';
    bb.style.overflow = (bb.style.height == '') ? '' : 'hidden';
}
EOF
